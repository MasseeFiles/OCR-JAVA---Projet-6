<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Transfer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <style type="text/css">
    </style>
</head>
<div class="container-fluid">
    <header>
        <div class="text-light bg-dark pt-23 text-center" style="height: 2em">Pay My Buddy</div>
        <div class="row">
            <div class="col-5"><img src="logoPMB.png" alt="Logo - Pay My Buddy" width="150"></div>
            <div class="col-7">
                <nav style="height: 1em">
                    <ul class="nav navbar-default offset-8">
                        <li class="px-2 "><a href="#">Home</a></li>
                        <li class="px-2"><a href="transfer">Transfer</a></li>
                        <li class="px-2"><a href="#">Profile</a></li>
                        <li class="px-2"><a href="#">Contact</a></li>
                        <li class="px-2"><a href="#">Log off</a></li>
                    </ul>
                    <ol class="breadcrumb text-right" style="background-color: #f2f3f4;">
                        <li class="breadcrumb-item"><a href="#">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Transfer</li>
                    </ol>
                </nav>
            </div>
        </div>
    </header>
    <div class="offset-md-1" style="width:80%">
        <!--
        <div th:if="${successMessage}" th:text="${successMessage}" class="alert alert-success" role="alert"></div>
        <div th:if="${errorMessage}" th:text="${errorMessage}" class="alert alert-danger" role="alert"></div>
        -->
        <div class="mt-5 mb-3">
            <div class="container">
                <div class="row">
                    <div class="col-9"><h5>Send Money</h5></div>
                    <div class="col-3"><a class="btn btn-primary offset-6" href="http://www.google.com">Add
                        Connection</a></div>
                </div>
                <div class="container text-center border bg-light" style="height: 7em">
                    <div class="btn-group" role="group" aria-label="Basic example">
                        <form th:action="@{/transferRequest}" method="POST">
                            <select name="contactIdEmbeddedIdOtherEmail" id="contactIdEmbeddedIdOtherEmail" >
                                <!-- name=contactIdEmbeddedIdOtherEmail est le nom exact d'un des attributs de l'objet attendu par le controleur (dans l'objet moneyTransactionDto) -->
                                <option selected disabled>Select a connection</option>
                                <option th:each="contact : ${contacts}" th:text="${contact.nameContact}" th:value="${contact.contactIdEmbeddedId.otherEmail}"></option>
                                <!-- th:text = le texte qui doit etre affiché pour l'option , th:value = la valeur qui doit être mise dans le form si cette option est choisie-->

                            </select>
                            <input name="transferAmount" id="transferAmount" type="number" placeholder="0€"
                                   min="0" style="text-align: right;">
                            <!-- name=transferAmount est le nom exact d'un des attributs de l'objet attendu par le controleur (dans l'objet moneyTransactionDto) -->

                            <button type="submit" class="btn btn-success btn-sm">Pay</button>
                        </form>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-9"><h5>My Transaction</h5></div>
            <table class="table table-bordered table-striped">
                <tr>
                    <th scope="col" class="text-center">Connections</th>
                    <th scope="col" class="text-center">Description</th>
                    <th scope="col" class="text-center">Amount</th>
                </tr>
                <tr th:each="moneyTransaction : ${moneyTransactions}">
                    <td th:text="${moneyTransaction.receiver.firstName}"></td>
                    <td th:text="${moneyTransaction.description}"></td>
                    <td th:text="${moneyTransaction.amount}"></td>
                </tr>
            </table>
        </div>
    </div>
</div>
</html>